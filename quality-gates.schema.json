{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Quality Gates Configuration",
  "description": "Configuration for project quality metrics and thresholds",
  "type": "object",
  "required": ["schemaVersion", "metrics"],
  "properties": {
    "schemaVersion": {
      "type": "integer",
      "minimum": 1,
      "description": "Version of the schema format"
    },
    "generatedAt": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp of when this file was generated"
    },
    "metrics": {
      "type": "object",
      "required": ["thresholds", "baselines"],
      "properties": {
        "thresholds": {
          "type": "object",
          "description": "Maximum allowed values for each metric",
          "properties": {
            "lint": {
              "type": "object",
              "properties": {
                "maxErrors": { "type": "integer", "minimum": 0 },
                "maxWarnings": { "type": "integer", "minimum": 0 }
              }
            },
            "deadcode": {
              "type": "object",
              "properties": {
                "max": { "type": "integer", "minimum": 0 }
              }
            },
            "typescript": {
              "type": "object",
              "properties": {
                "maxErrors": { "type": "integer", "minimum": 0 }
              }
            },
            "build": {
              "type": "object",
              "properties": {
                "maxTimeMs": { "type": "integer", "minimum": 0 }
              }
            }
          }
        },
        "baselines": {
          "type": "object",
          "description": "Baseline values for metrics",
          "properties": {
            "lint": {
              "type": "object",
              "properties": {
                "errors": { "type": "integer", "minimum": 0 },
                "warnings": { "type": "integer", "minimum": 0 }
              }
            },
            "deadcode": {
              "type": "object",
              "properties": {
                "count": { "type": "integer", "minimum": 0 }
              }
            },
            "typescript": {
              "type": "object",
              "properties": {
                "errors": { "type": "integer", "minimum": 0 }
              }
            },
            "build": {
              "type": "object",
              "properties": {
                "timeMs": { "type": "integer", "minimum": 0 },
                "mode": { "type": "string", "enum": ["clean", "incremental"] },
                "environment": {
                  "type": "object",
                  "properties": {
                    "nodeVersion": { "type": "string" },
                    "os": { "type": "string" },
                    "cpu": { "type": "string" }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}